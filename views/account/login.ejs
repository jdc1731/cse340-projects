<h1><%= title %></h1>

<!-- Flash messages -->
<% if (typeof messages === "function") { %>
  <div class="flash"><%- messages() %></div>
<% } %>

<!-- Validation errors (safe & single block) -->
<% if (Array.isArray(errors) && errors.length) { %>
  <div class="form-errors">
    <ul>
      <% errors.forEach(e => { %>
        <li><%= e.msg %></li>
      <% }) %>
    </ul>
  </div>
<% } %>

<div class="auth-card">
  <form id="loginForm" action="/account/login" method="post" class="auth-form">
    <div class="form-row">
      <label for="login_email">Email</label>
      <input
        id="login_email"
        name="account_email"
        type="email"
        autocomplete="email"
        required
        value="<%= typeof account_email !== 'undefined' ? account_email : '' %>"
      />
    </div>

    <div class="form-row">
      <label for="login_password">Password</label>
      <input
        id="login_password"
        name="account_password"
        type="password"
        autocomplete="current-password"
        required
      />
    </div>

    <button type="submit" class="btn-primary">Log In</button>
  </form>

  <p class="auth-alt">
    Don't have an account?
    <a href="/account/register">Register here</a>.
  </p>
</div>

